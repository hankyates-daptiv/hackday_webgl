<html>

<head>
<title>Hackday WebGL</title>
</head>

<body>

<p>
  <input id="textInput" type="text" value="whatever" autofocus="" style="width: 590px; border: 2px solid #000; padding: 2px 3px; font-size: 2em; text-align: center">
</p>

<canvas id="viewport" width="600" height="400" style="border: 1px solid red;"></canvas>

<button id="rainbowModeButton" style ="display:inherit;font-size: 18px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; padding: 10px; color: #ffffff;background-color: #0044cc;text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);">Rainbow Mode</button>

<script id="fragment" type="x-shader/x-fragment">
    #ifdef GL_ES
    precision mediump float;
    #endif

    uniform vec2 resolution;
    uniform float time;
    uniform bool useSpecialText;
    uniform sampler2D text;

    void main (void) {
        vec2 p = gl_FragCoord.xy / resolution.xy;
        vec3 bg = vec3(0, 0, 0);
        vec3 rainbowTextColor = vec3(p.x, 0.7+0.3*cos(0.01*time), 0.7+0.3*sin(0.01*time));
        vec3 normalTextColor = vec3(9,9,9);
        vec4 t = texture2D(text, p);

        vec3 textColor = normalTextColor;
        if(useSpecialText) {
            textColor = rainbowTextColor;
        }

        vec3 c = mix(bg, textColor, t.a);
        gl_FragColor = vec4(c, 1.0);
    }
</script>

<script src="glsl.js" type="text/javascript"></script>
<script src="index.js" type="text/javascript"></script>
</body>

</html>
